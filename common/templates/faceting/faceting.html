<div class="faceting-container">
    <div class="columns-container">
        <div class="panel-group" id="ft-cols-1">
            <div class="panel panel-default" ng-repeat="fc in vm.facetColumns track by $index">
                <div class="panel-heading">
                    <h4 class="panel-title accordion-toggle collapsed" data-toggle="collapse" href="#ft-col-1-{{$index}}" ng-click="toggleFacet($index)">
                        <!-- data-parent="#ft-cols-1" -->
                        <a ng-attr-uib-tooltip="{{::(fc.comment) ? fc.comment : undefined}}" ng-attr-tooltip-placement="{{::(fc.comment) ? 'top' : undefined}}" title="{{fc.comment}}">
                            <span ng-if="::fc.displayname.isHTML" ng-bind-html="::fc.displayname.value"></span>
                            <span ng-if="::!fc.displayname.isHTML" ng-bind="::fc.displayname.value"></span> [{{fc.preferredMode}}]
                        </a>
                    </h4>
                    <span class="applied-filters" ng-show="hasFilter(fc)">
                        <span class="label label-primary">
                            <a class="remove-link" ng-click="removeFilter(fc)">clear all</a>
                        </span>
                        <span class="label label-primary" ng-repeat="filter in fc.filters track by $index">
                            <a class="remove-link" ng-click="removeFilter(fc, $index)"><i class="glyphicon glyphicon-remove"></i></a>
                            <span ng-bind="filter.toString()"></span>
                        </span>
                    </span>
                </div>
                <div id="ft-col-1-{{$index}}" class="panel-collapse collapse">
                    <div class="panel-body" ng-switch="fc.preferredMode">
                        <range-picker ng-switch-when="range" vm="vm" facet-column="fc" is-open="isOpen[$index]"></range-picker>
                        <string-picker ng-switch-when="choices" vm="vm" facet-column="fc" is-open="isOpen[$index]"></string-picker>
                        <vocab-picker ng-switch-when="entity" vm="vm" facet-column="fc" is-open="isOpen[$index]"></vocab-picker>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
