		<!-- Search Results -->
		<div  id="resultscontent" ng-controller="ResultsListCtrl as facetResults" ng-show="facetResults.showResults()" ng-click="facetResults.closeModal($event);">
			<!-- nested row 20: Dashboard link / Name of saved query / Bookmarks button -->
			<div id="dashboard-link" class="row">
				<div class="col-md-12">
					<p>
						<i class="md-dashboard md-lg"></i>
						<a href="#" ng-click="facetResults.preventDefault($event);">Dashboard</a>
					</p>
				</div>
			</div>
			
			<div id="browser-header" class="row">
				<div class="col-md-10">
					<h1>This is the name of a saved query <i class="md-bookmark-outline"></i></h1>
				</div>
				<div class="col-md-2">
					<button type="button" class="btn btn-default btn-lg pull-right" >Bookmark Query</button>
				</div>
			</div>
			
			<div id="search-within" class="row" ng-show="true">
				<div id="filters" ng-repeat="item in FacetsData.tablesStack" class="col-md-10">
					<div class="filter-button">
					</div>
					<div class="filter-container">
						<div class="filter-item">
							<span class="filter-item-field">Collection</span>&nbsp;
							<span class="filter-item-value">
								{{item['Collection']}}
							</span>
						</div>
						<div class="filter-item" ng-repeat="(name,chiclet) in item['chiclets']">
							<span class="filter-item-field">{{name}}</span>&nbsp;
	                    	<span ng-if="chiclet['type']=='bigint'" class="filter-item-value" ng-attr-title="{{chiclet['min'] | number}} - {{chiclet['max'] | number}}">
	                    		{{chiclet['min'] | number}} - {{chiclet['max'] | number}}
	                    	</span>
	                    	<span ng-if="chiclet['type']=='text'" class="filter-item-value" ng-attr-title="{{chiclet['value']}}">
	                    		{{chiclet['value']}}
	                    	</span>
	                    	<span ng-if="chiclet['type']=='enum'" class="filter-item-value" ng-attr-title="{{chiclet['value']}}">
	                    		{{chiclet['value']}}
	                    	</span>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<p>
						<span class="filter-item-value">
							<span class="filter-item-field">Search within: </span>&nbsp;
							<a href="#" class="collections-toggle" ng-click="facetResults.sidebarClick($event, 'collections-toggle');">{{FacetsData.selectedEntity.display}} {{facetResults.displayTreeCount(FacetsData.selectedEntity)}}</a>
						</span>
					</p>
				</div>
			</div>
			<div class="row">
				<div id="filter" class="col-md-12">
					<div class="filter-button">
						<button id="filterButton" type="button" title="Click to apply filters" class="btn btn-default btn-filter sidebar-toggle" ng-click="facetResults.sidebarClick($event, 'sidebar-toggle', true);"><i class="md-filter-list md-lg"></i></button>
					</div>
					<div class="filter-container">
						<div ng-class="facetResults.setFilterClass()">
							Click <i class="md-filter-list"></i> on the right to apply filters.
						</div>
		                <div class="filter-item" ng-repeat="facet in FacetsData.facets" ng-show="facetResults.showChiclet(facet)">
		                    <a href="#" class="filter-link-cancel" ng-click="facetResults.removeFilter($event, facet);"><i class="md-cancel md-lg"></i></a>
		                    <a href="#" ng-click="facetResults.editFacet($event, facet)"><span class="filter-item-field">{{facet['display']}}</span>&nbsp;</a>
	                    	<span ng-if="facetResults.if_type(facet, 'bigint')" class="filter-item-value" ng-attr-title="{{FacetsData.box[facet['table']][facet['name']]['min'] | number}} - {{FacetsData.box[facet['table']][facet['name']]['max'] | number}}">
	                    		{{FacetsData.box[facet['table']][facet['name']]['min'] | number}} - {{FacetsData.box[facet['table']][facet['name']]['max'] | number}}
	                    	</span>
	                    	<span ng-if="facetResults.if_type(facet, 'text')" class="filter-item-value" ng-attr-title="{{FacetsData.box[facet['table']][facet['name']]['value']}}">
	                    		{{FacetsData.box[facet['table']][facet['name']]['value']}}
	                    	</span>
	                    	<span ng-if="facetResults.if_type(facet, 'enum')" class="filter-item-value" ng-attr-title="{{facetResults.displayTitle(facet)}}">
				    			<span ng-repeat="value in facetResults.getFacetValues(facet)">
			    					<span ng-if="!$first">, </span>
				    					{{value}}
				    			</span>
	                    	</span>
		                </div>
					</div>
				</div>
				<div id="view-buttons" class="col-md-2">
					<div class="btn-toolbar pull-right" role="toolbar">
						<div class="btn-group" role="group">
							<button class="btn btn-default" id="sort-btn" aria-label="Sort" type="button" title="Sort">
								<i class="md-sort md-lg" aria-hidden="true"></i>
							</button>
	
							<button class="btn btn-default" id="settings-btn" aria-label="Settings" type="button" title="Configure settings">
								<i class="md-settings md-lg" aria-hidden="true"></i>
							</button>
						</div>
						<div class="btn-group" id="add-filter" role="group">
							<button class="btn btn-default" id="add-filter-btn" aria-label="Add Filter Layer" type="button">
								<i class="md-add md-lg" aria-hidden="true"></i>
							</button>
						</div>
					</div>
				</div>
			</div>
			
			<div class="row ng-hide" id="searchsort" ng-show="FacetsData.pageNavigation">
				<form class="form-inline" role="form">
					<div class="ng-hide" ng-show="FacetsData.pageNavigation" ng-bind-html="FacetsData.collectionsPredicate">
					</div>
					<div class="ng-hide" ng-show="FacetsData.pageNavigation" class="col-sm-6 col-md-5 col-lg-4">
						<div class="form-group has-feedback">
							<label class="control-label sr-only">Search Data</label>
							<input id="dataSearch" type="text" ng-model="FacetsData.filterAllText" class="form-control"
								placeholder="Search data..." size="44" maxlength="120"
								ng-change="facetResults.delay_search_all($event.keyCode)">
						</div>
					</div>
					<div class="ng-hide" ng-show="FacetsData.pageNavigation" class="col-sm-4 col-md-3 col-lg-2">
						<div class="form-group">
							<label for="show">Show</label> <select class="form-control"
								name="field-pick" id="show" ng-model="FacetsData.pagingOptions.pageSize"
								ng-options="value for value in FacetsData.pagingOptions.pageSizes"></select>
						</div>
					</div>
					<div class="ng-hide" ng-show="FacetsData.pageNavigation" class="col-sm-4 col-md-4 col-lg-3">
						<div class="form-group">
							<ul class="pagination toppagination">
								<li class="prev"><a href="#"
									ng-hide="facetResults.cantPageBackward()"
									ng-click="facetResults.pageToFirst($event)">&laquo;</a></li>
								<li class="prev"><a href="#"
									ng-hide="facetResults.cantPageBackward()"
									ng-click="facetResults.pageBackward($event)">&lt;</a></li>
								<li ng-repeat="page in FacetsData.pageRange track by $index" ng-class="facetResults.setActiveClass($index)"><a href="#"
									ng-click="facetResults.selectPage($event, page)" ng-show="facetResults.pageInRange(page)">{{facetResults.pageButton(page)}}<span class="sr-only">(current)</span></a></li>
								<li class="next"><a href="#"
									ng-show="facetResults.canPageForward()"
									ng-click="facetResults.pageForward($event)">&gt;</a></li>
								<li class="next"><a href="#"
									ng-show="facetResults.canPageForward()"
									ng-click="facetResults.pageToLast($event)">&raquo;</a></li>
							</ul>
						</div>
					</div>
				</form>
			</div>
			<div class="ng-hide" ng-show="FacetsData.pageNavigation" id="results_tally">
				<p>
					Page {{FacetsData.pagingOptions.currentPage}} of {{FacetsData.maxPages}}. Showing results
					<strong>{{(FacetsData.pagingOptions.currentPage-1)*FacetsData.pagingOptions.pageSize+1}}-{{facetResults.lastRecord()}}</strong>
					of <strong>{{FacetsData.totalServerItems}}.</strong>
				</p>
			</div>
			
			<div id="results_tally" class="row">
				<div class="col-md-10">
					<p>Displaying results <strong>1-{{FacetsData.ermrestData.length}}</strong> of <strong>{{FacetsData.totalServerItems}}</strong> results.</p>
				</div>
				<div class="col-md-2">
					<div class="btn-group view-toggle pull-right" role="group" id="views">
						<p class="btn btn-label">Switch layout:</p>
						<button type="button" id="views-btn" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Switch layout">
	      					<i class="md-view-list md-lg" aria-hidden="true"></i>
	    				</button>
					    <ul class="dropdown-menu" role="menu">
					      <li>
					      	<a href="#" ng-click="facetResults.selectView($event, 'table');">
					      		<i class="md-view-column md-lg" aria-hidden="true"></i> Table View
					      	</a>
					      </li>
					      <li>
					      	<a href="#" ng-click="facetResults.selectView($event, 'list');">
					      		<i class="md-view-list md-lg" aria-hidden="true"></i> List View
					      	</a>
					      </li>
					      <li>
					      	<a href="#" ng-click="facetResults.selectView($event, 'card');">
					      		<i class="md-view-module md-lg" aria-hidden="true"></i> Card View
					      	</a>
					      </li>
					    </ul>
					</div>
				</div>
			</div>
			<div id="resultstable" class="row">
				<div class="col-md-12" ng-init="FacetsData.spinner=[]" ng-repeat="row in FacetsData.ermrestData">
                    <div ng-init="FacetsData.spinner[$index]=false" class="ng-hide" ng-show="facetResults.showSpinner($index)">
                            <img src="images/ajax-loader.gif"
                                    title="Processing..." alt="Spinner" ng-show="facetResults.showSpinner($index)"
                                    class="center" />
                    </div>
                    <div ng-if="FacetsData.view=='list'" class="panel panel-default">
                    	<div class="panel-heading">
                    		<input ng-show="false" type="checkbox">
                    		<a ng-href="#" ng-click="facetResults.clicker($event, row, 3, $index);">
                    			<span class="panel-title" ng-bind-html="facetResults.itemTitle(row)"></span>
                    		</a>
                    	</div>
                    	<div class="panel-body" ng-init="thumbnail=facetResults.itemThumbnail(row)">
                    		<div class="row">
                    			<div class="col-md-2" ng-show="thumbnail!=null">
									<a ng-href="#" ng-click="facetResults.clicker($event, row, 3, $index);">
										<img title="Thumbnail" alt="Undefined" width="90" height="90" ng-src="{{thumbnail}}">
									</a>
								</div>
								<div ng-init="values=facetResults.viewColumns(row, 2, 3)">
									<div class="col-md-2" ng-show="values['top_columns'].length>0" ng-repeat="value in values['top_columns']">
										<dl class="attribute-group" ng-repeat="col in value track by $index" >
											<dt ng-show="facetResults.display(FacetsData.table,col)!=null">{{facetResults.display(FacetsData.table,col)}}</dt>
											<dd ng-show="facetResults.display(FacetsData.table,col)!=null">{{facetResults.html(FacetsData.table,col,row[col])}}</dd>
										</dl>
									</div>
									<div class="col-md-6" ng-show="values['summary']!=null">
										<dl class="attribute-group">
											<dt>{{facetResults.display(FacetsData.table,values['summary'])}}</dt>
											<dd>{{facetResults.html(FacetsData.table,values['summary'],row[values['summary']])}}</dd>
										</dl>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div ng-if="FacetsData.view=='table'">
					<div id="results-group" class="row">
						<div class="col-md-12">
							<table class="table table-condensed table-responsive table-hover table-bordered" id="results-table-view">
								<thead>
									<tr class="active">
										<th ng-if="facetResults.itemThumbnail(FacetsData.ermrestData[0])!=null">
											<span>Image</span>
										</th>
										<th ng-if="facetResults.titleName()!=null">{{facetResults.display(FacetsData.table,facetResults.titleName())}}
										</th>
										<th ng-repeat="col in facetResults.tableColumns(FacetsData.table, 6)">{{facetResults.display(FacetsData.table,col)}}
										</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="row in FacetsData.ermrestData">
										<td ng-if="facetResults.itemThumbnail(row)!=null" >
											<a ng-href="#" ng-click="facetResults.clicker($event, row, 3, $index);">
												<img title="Thumbnail" alt="Undefined" width="90" height="90" ng-src="{{facetResults.itemThumbnail(row)}}">
											</a>
										</td>
										<td ng-if="facetResults.titleName()!=null" class="results-title">
											<a href="#" ng-click="facetResults.clicker($event, row, 3, $index);"><span class="results-title" ng-bind-html="facetResults.itemTitle(row)"></span></a>
										</td>
										<td ng-repeat="col in facetResults.tableColumns(FacetsData.table, 6)" class="top-columns">{{facetResults.html(FacetsData.table,col,row[col])}}
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
				<div ng-if="FacetsData.view=='card'">
					<div id="results-group" class="row">
						<div class="col-md-6" ng-repeat="row in FacetsData.ermrestData">
							<div class="panel panel-default">
								<div class="panel-heading">
									<input ng-show="false" type="checkbox">
			                    		<a ng-href="#" ng-click="facetResults.clicker($event, row, 3, $index);">
			                    			<span class="panel-title" ng-bind-html="facetResults.itemTitle(row)"></span>
			                    		</a>
								</div>
								<div class="panel-body" ng-init="thumbnail=facetResults.itemThumbnail(row)">
									<div class="row">
		                    			<div class="col-md-2" ng-show="thumbnail!=null">
											<a ng-href="#" ng-click="facetResults.clicker($event, row, 3, $index);">
												<img title="Thumbnail" alt="Undefined" width="90" height="90" ng-src="{{thumbnail}}">
												<br/>
											</a>
										</div>
									</div>
									<div class="row">
										<div ng-init="values=facetResults.viewColumns(row, 3, 2)">
											<div class="col-sm-6" ng-show="values['top_columns'].length>0" ng-repeat="value in values['top_columns']">
												<dl class="attribute-group" ng-repeat="col in value track by $index" >
													<dt ng-show="facetResults.display(FacetsData.table,col)!=null">{{facetResults.display(FacetsData.table,col)}}</dt>
													<dd ng-show="facetResults.display(FacetsData.table,col)!=null">{{facetResults.html(FacetsData.table,col,row[col])}}</dd>
												</dl>
											</div>
										</div>
									</div>
									<div class="row" ng-show="values['summary']!=null">
										<div class="col-md-12">
											<dl class="attribute-group">
												<dt>{{facetResults.display(FacetsData.table,values['summary'])}}</dt>
												<dd class="summ-desc">{{facetResults.html(FacetsData.table,values['summary'],row[values['summary']])}}</dd>
											</dl>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row bottompgr">
				<div class="form-group col-md-12">
					<ul class="pagination bottompagination">
						<li class="ng-hide" ng-show="FacetsData.pageNavigation" class="prev"><a href="#"
							ng-hide="facetResults.cantPageBackward()"
							ng-click="facetResults.pageToFirst($event)">&laquo;</a></li>
						<li class="ng-hide" ng-show="FacetsData.pageNavigation" class="prev"><a href="#"
							ng-hide="facetResults.cantPageBackward()"
							ng-click="facetResults.pageBackward($event)">&lt;</a></li>
						<li class="ng-hide" ng-show="FacetsData.pageNavigation" ng-repeat="page in FacetsData.pageRange track by $index" ng-class="facetResults.setActiveClass($index)"><a href="#"
							ng-click="facetResults.selectPage($event, page)" ng-show="facetResults.pageInRange(page)">{{facetResults.pageButton(page)}}<span class="sr-only">(current)</span></a></li>
						<li class="next"><a href="#"
							class="ng-hide" ng-show="facetResults.canPageForward()"
							ng-click="facetResults.pageForward($event)">More...</a></li>
						<li class="ng-hide" ng-show="FacetsData.pageNavigation" class="next"><a href="#"
							ng-show="facetResults.canPageForward()"
							ng-click="facetResults.pageToLast($event)">&raquo;</a></li>
					</ul>
				</div>
			</div>
		</div>

		