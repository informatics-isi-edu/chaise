{
    "tables": {
        "accommodation": {
            "comment": "List of different types of accommodations",
            "kind": "table",
            "entityCount": 0,
            "keys": [
                {
                    "comment": null,
                    "annotations": {},
                    "unique_columns": [
                        "id"
                    ]
                },
                {
                    "unique_columns": [
                        "id", "extra_id"
                    ]
                }
            ],
            "foreign_keys": [
                {
                    "comment": null,
                    "names": [["product-unordered-related-tables-links", "fk_category"]],
                    "foreign_key_columns": [
                        {
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "category"
                        }
                    ],
                    "annotations": {},
                    "referenced_columns": [
                        {
                            "table_name": "category",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "term"
                        }
                    ]
                },
                {
                    "comment": null,
                    "names": [["product-unordered-related-tables-links", "fk_thumbnail"]],
                    "foreign_key_columns": [
                        {
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "thumbnail"
                        }
                    ],
                    "annotations": {
                        "comment": ["thumbnail"]
                    },
                    "referenced_columns": [
                        {
                            "table_name": "file",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id"
                        }
                    ]
                },
                {
                    "comment": null,
                    "names": [["product-unordered-related-tables-links", "fk_cover"]],
                    "foreign_key_columns": [
                        {
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "cover"
                        }
                    ],
                    "annotations": {
                        "comment": ["thumbnail"]
                    },
                    "referenced_columns": [
                        {
                            "table_name": "file",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id"
                        }
                    ]
                },
                {
                    "comment": null,
                    "names": [
                        ["product-unordered-related-tables-links", "fk_to_accommodation_outbound1"]
                    ],
                    "foreign_key_columns": [{
                        "table_name": "accommodation",
                        "schema_name": "product-unordered-related-tables-links",
                        "column_name": "fk_col_outbound1"
                    }],
                    "annotations": {
                        "comment": ["thumbnail"]
                    },
                    "referenced_columns": [{
                        "table_name": "accommodation_outbound1",
                        "schema_name": "product-unordered-related-tables-links",
                        "column_name": "id"
                    }]
                }
            ],
            "table_name": "accommodation",
            "schema_name": "product-unordered-related-tables-links",
            "column_definitions": [
                {
                    "comment": null,
                    "name": "id",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "serial4"
                    },
                    "annotations": {
                        "comment": [
                            "hidden"
                        ],
                        "tag:misd.isi.edu,2015:display" : {
                            "name" : "Id"
                        }
                    }
                },
                {
                    "name": "extra_id",
                    "nullok": false,
                    "type": {
                        "typename": "int4"
                    }
                },
                {
                    "comment": null,
                    "name": "title",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    },
                    "annotations": {
                        "comment": [
                            "title",
                            "top",
                            "orderby"
                        ],
                        "description": {
                            "display": "Name of Accommodation"
                        },
                        "tag:misd.isi.edu,2015:display" : {
                            "name" : "Name of Accommodation"
                        },
                        "facetOrder": [
                            "1"
                        ]
                    }
                },
                {
                    "comment": "A valid url of the accommodation",
                    "name": "website",
                    "default": null,
                    "nullok": true,
                    "type": {
                        "typename": "text"
                    },
                    "annotations": {
                        "comment": [
                            "url"
                        ],
                        "description": {
                            "display": "Website"
                        },
                        "tag:misd.isi.edu,2015:url" : {
                            "url" : "{cname}"
                        },
                        "tag:isrd.isi.edu,2016:column-display" : {
                            "*": {
                                "markdown_pattern" : "[Link to Website]({{website}})"
                            }
                        },
                        "tag:misd.isi.edu,2015:display": {
                            "name": "Website"
                        }
                    }
                },
                {
                    "comment": "Type of accommodation ('Resort/Hotel/Motel')",
                    "name": "category",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    },
                    "annotations": {
                        "comment": ["top"],
                        "description": {
                            "display": "Category"
                        },
                        "facetOrder": [
                            "2"
                        ],
                        "tag:misd.isi.edu,2015:display": {
                            "name": "Category"
                        }
                    }
                },
                {
                    "comment": null,
                    "name": "rating",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "float4"
                    },
                    "annotations": {
                        "comment": ["top"],
                        "description": {
                            "display": "User Rating"
                        },
                        "facetOrder": [
                            "3"
                        ],
                        "tag:misd.isi.edu,2015:display": {
                            "name": "User Rating"
                        }
                    }
                },
                {
                    "comment": null,
                    "name": "summary",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "longtext"
                    },
                    "annotations": {
                        "comment": [
                            "text",
                            "unsortable",
                            "summary",
                            "hidden"
                        ],
                        "tag:misd.isi.edu,2015:display": {
                            "name": "Summary"
                        }
                    }
                },
                {
                    "comment": null,
                    "name": "description",
                    "default": null,
                    "nullok": true,
                    "type": {
                        "typename": "markdown"
                    },
                    "annotations": {
                        "comment": [
                            "text",
                            "unsortable",
                            "html",
                            "hidden"
                        ],
                        "tag:misd.isi.edu,2015:display": {
                            "name": "Description"
                        }
                    }
                },
                {
                    "comment": null,
                    "name": "no_of_rooms",
                    "default": null,
                    "nullok": true,
                    "type": {
                        "typename": "int4"
                    },
                    "annotations": {
                        "comment" : ["top"],
                        "tag:misd.isi.edu,2015:display": {
                            "name": "Number of Rooms"
                        }
                    }
                },
                {
                    "comment": null,
                    "name": "thumbnail",
                    "default": null,
                    "nullok": true,
                    "type": {
                        "typename": "int4"
                    },
                    "annotations": {
                        "comment": [
                            "hidden"
                        ],
                        "tag:misd.isi.edu,2015:display": {
                            "name": "Thumbnail"
                        }
                    }
                },
                {
                    "comment": null,
                    "name": "cover",
                    "default": null,
                    "nullok": true,
                    "type": {
                        "typename": "int4"
                    },
                    "annotations": {
                        "description": {
                            "display": "Cover Image"
                        },
                        "comment": [
                            "hidden"
                        ],
                        "tag:misd.isi.edu,2015:display": {
                            "name": "Cover Image"
                        }
                    }
                },
                {
                    "comment": null,
                    "name": "opened_on",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "timestamptz"
                    },
                    "annotations": {
                        "comment": [
                            "bottom"
                        ],
                        "description": {
                            "display": "Operational Since"
                        },
                        "tag:misd.isi.edu,2015:display": {
                            "name": "Operational Since"
                        }
                    }
                },
                {
                    "comment": null,
                    "name": "luxurious",
                    "default": null,
                    "nullok": true,
                    "type": {
                        "typename": "boolean"
                    },
                    "annotations": {
                        "comment": ["top"],
                        "description": {
                            "display": "Luxurious"
                        },
                        "tag:misd.isi.edu,2015:display": {
                            "name": "Is Luxurious"
                        },
                        "tag:isrd.isi.edu,2016:ignore" : ["record"]
                    }
                },
                {
                    "name": "fk_col_outbound1",
                    "type": {
                        "typename": "text"
                    }
                }
            ],
            "annotations": {
                "comment": [
                    "default"
                ],
                "tag:misd.isi.edu,2015:display": {
                    "name": "Accommodations"
                },
                "description": {
                    "display": "Accommodations",
                    "top_columns": ["title", "rating", "category", "opened_on"]
                },
                "tag:isrd.isi.edu,2016:visible-columns" : {
                    "detailed" : ["id", "title", "website", ["product-unordered-related-tables-links", "fk_category"], "rating", "summary", "description", "no_of_rooms", ["product-unordered-related-tables-links", "fk_cover"], ["product-unordered-related-tables-links", "fk_thumbnail"], "opened_on", "luxurious"]
                },
                "tag:isrd.isi.edu,2016:visible-foreign-keys": {
                    "detailed": [
                        ["product-unordered-related-tables-links", "fk_booking_accommodation"],
                        ["product-unordered-related-tables-links", "fk_schedule_accommodation"],
                        ["product-unordered-related-tables-links", "fk_media_accommodation"],
                        ["product-unordered-related-tables-links", "fk_assoc_accommodation"],
                        ["product-unordered-related-tables-links", "fk_accommodation_image"],
                        ["product-unordered-related-tables-links", "fk_assoc_mdn_accommodation"],
                        {
                            "source": [
                                {"inbound": ["product-unordered-related-tables-links", "fk_assoc_accommodation"]},
                                {"outbound": ["product-unordered-related-tables-links", "fk_assoc_related_table"]},
                                {"inbound": ["product-unordered-related-tables-links", "fk_related_table_2_to_related"]},
                                "id"
                            ],
                            "display": {
                                "wait_for": ["entity_set_accommodation_inbound2"]
                            }
                        },
                        ["product-unordered-related-tables-links", "fk_table_w_agg_accommodation"],
                        {"source": [{"inbound": ["product-unordered-related-tables-links", "fk_table_invalid_markdown"]}, "id"]},
                        {
                            "sourcekey": "entity_set_accommodation_inbound1",
                            "markdown_name": "inbound related with display.wait_for entityset",
                            "display": {
                                "template_engine": "handlebars",
                                "wait_for": ["entity_set_accommodation_inbound2"],
                                "markdown_pattern": "{{#each $self}}{{{this.rowName}}}{{#unless @last}}, {{/unless}}{{/each}} ({{#each entity_set_accommodation_inbound2}}{{{this.rowName}}}{{#unless @last}}, {{/unless}}{{/each}})"
                            }
                        },
                        {
                            "sourcekey": "entity_set_accommodation_inbound3",
                            "markdown_name": "inbound related with display.wait_for agg",
                            "display": {
                                "template_engine": "handlebars",
                                "wait_for": ["cnt_d_accommodation_inbound2"],
                                "markdown_pattern": "{{#each $self}}{{{this.rowName}}}{{#unless @last}}, {{/unless}}{{/each}} ({{{cnt_d_accommodation_inbound2}}})"
                            }
                        }
                    ]
                },
                "tag:isrd.isi.edu,2018:citation": {
                    "template_engine": "handlebars",
                    "journal_pattern": "{{title}}, {{{entity_all_outbound_outbound1_outbound1.rowName}}}",
                    "year_pattern": "{{formatDate RCT 'YYYY'}}",
                    "url_pattern": "{{website}}",
                    "id_pattern": "{{id}}",
                    "wait_for": ["entity_all_outbound_outbound1_outbound1"]
                },
                "tag:isrd.isi.edu,2019:source-definitions": {
                    "fkeys": true,
                    "columns": true,
                    "sources": {
                        "entity_all_outbound_outbound1_outbound1": {
                            "source": [
                                {"outbound": ["product-unordered-related-tables-links", "fk_to_accommodation_outbound1"]},
                                {"outbound": ["product-unordered-related-tables-links", "accommodation_outbound1_fk1"]},
                                "RID"
                            ]
                        },
                        "entity_set_accommodation_inbound1": {
                            "source": [
                                {"inbound": ["product-unordered-related-tables-links", "accommodation_inbound1_fk1"]},
                                "RID"
                            ]
                        },
                        "entity_set_accommodation_inbound2": {
                            "source": [
                                {"inbound": ["product-unordered-related-tables-links", "accommodation_inbound2_fk1"]},
                                "RID"
                            ]
                        },
                        "entity_set_accommodation_inbound3": {
                            "source": [
                                {"inbound": ["product-unordered-related-tables-links", "accommodation_inbound3_fk1"]},
                                "RID"
                            ]
                        },
                        "cnt_d_accommodation_inbound2": {
                            "source": [
                                {"inbound": ["product-unordered-related-tables-links", "accommodation_inbound2_fk1"]},
                                "RID"
                            ],
                            "aggregate": "cnt_d"
                        }
                    }
                }
            }
        },
        "booking": {
            "comment": null,
            "kind": "table",
            "entityCount": 0,
            "keys": [
                {
                    "comment": null,
                    "annotations": {},
                    "unique_columns": [
                        "id",
                        "accommodation_id"
                    ]
                }
            ],
            "foreign_keys": [
                {
                    "names" : [["product-unordered-related-tables-links", "fk_booking_accommodation"]],
                    "comment": null,
                    "foreign_key_columns": [
                        {
                            "table_name": "booking",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "accommodation_id"
                        }
                    ],
                    "annotations": {},
                    "referenced_columns": [
                        {
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id"
                        }
                    ]
                },
                {
                    "names" : [["product-unordered-related-tables-links", "fk_booking_accommodation2"]],
                    "comment": "composite fk that should be prefilled",
                    "foreign_key_columns": [
                        {
                            "table_name": "booking",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "accommodation_id"
                        },
                        {
                            "table_name": "booking",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "fk2_col"
                        }
                    ],
                    "referenced_columns": [
                        {
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id"
                        },
                        {
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "extra_id"
                        }
                    ]
                },
                {
                    "names" : [["product-unordered-related-tables-links", "fk_booking_accommodation3"]],
                    "comment": "composite fk that should not be prefilled (nullok)",
                    "foreign_key_columns": [
                        {
                            "table_name": "booking",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "fk3_col1"
                        },
                        {
                            "table_name": "booking",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "fk3_col2"
                        }
                    ],
                    "referenced_columns": [
                        {
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id"
                        },
                        {
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "extra_id"
                        }
                    ]
                },
                {
                    "names" : [["product-unordered-related-tables-links", "fk_booking_accommodation4"]],
                    "comment": "composite fk that should be prefilled",
                    "foreign_key_columns": [
                        {
                            "table_name": "booking",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "accommodation_id"
                        },
                        {
                            "table_name": "booking",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "fk4_col_2_fk5_col"
                        }
                    ],
                    "referenced_columns": [
                        {
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id"
                        },
                        {
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "extra_id"
                        }
                    ]
                },
                {
                    "names" : [["product-unordered-related-tables-links", "fk_booking_accommodation5"]],
                    "foreign_key_columns": [
                        {
                            "table_name": "booking",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "fk4_col_2_fk5_col"
                        }
                    ],
                    "referenced_columns": [
                        {
                            "table_name": "table_w_rowname",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id"
                        }
                    ]
                }
            ],
            "table_name": "booking",
            "schema_name": "product-unordered-related-tables-links",
            "column_definitions": [
                {
                    "comment": null,
                    "name": "id",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "serial4"
                    },
                    "annotations": {
                        "comment": ["hidden"]
                    }
                },
                {
                    "comment": null,
                    "name": "accommodation_id",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "int4"
                    },
                    "annotations": {
                        "comment": ["hidden"]
                    }
                },
                {
                    "comment": null,
                    "name": "price",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "float4"
                    },
                    "annotations": {
                        "description": {
                            "display": "Price"
                        },
                        "facetOrder": ["4"]
                    }
                },
                {
                    "comment": null,
                    "name": "booking_date",
                    "default": null,
                    "nullok": true,
                    "type": {
                        "typename": "timestamptz"
                    },
                    "annotations": {
                        "description": {
                            "display": "Date of Booking"
                        },
                        "facetOrder": ["5"]
                    }
                },
                {
                    "name": "fk2_col",
                    "nullok": false,
                    "type": {
                        "typename": "int4"
                    }
                },
                {
                    "name": "fk3_col1",
                    "type": {
                        "typename": "int4"
                    }
                },
                {
                    "name": "fk3_col2",
                    "type": {
                        "typename": "int4"
                    }
                },
                {
                    "name": "fk4_col_2_fk5_col",
                    "nullok": false,
                    "type": {
                        "typename": "int4"
                    }
                }
            ],
            "annotations": {
                "comment": [
                    "association"
                ],
                "description": {
                    "display": "Bookings"
                },
                "tag:isrd.isi.edu,2016:visible-columns": {
                    "entry": [
                        "id", "price", "booking_date", "fk2_col", "accommodation_id", "fk3_col1",
                        {"source": [{"outbound": ["product-unordered-related-tables-links", "fk_booking_accommodation"]}, "RID"], "markdown_name": "fk_1"},
                        {"source": [{"outbound": ["product-unordered-related-tables-links", "fk_booking_accommodation2"]}, "RID"], "markdown_name": "fk_2"},
                        {"source": [{"outbound": ["product-unordered-related-tables-links", "fk_booking_accommodation3"]}, "RID"], "markdown_name": "fk_3"},
                        {"source": [{"outbound": ["product-unordered-related-tables-links", "fk_booking_accommodation4"]}, "RID"], "markdown_name": "fk_4"},
                        {"source": [{"outbound": ["product-unordered-related-tables-links", "fk_booking_accommodation5"]}, "RID"], "markdown_name": "fk_5"}
                    ],
                    "compact/brief": ["price", "booking_date"],
                    "filter": {
                        "and": [
                            {"source": [{"outbound": ["product-unordered-related-tables-links", "fk_booking_accommodation"]}], "markdown_name": "Accommodations"}
                        ]
                    }
                },
                "tag:isrd.isi.edu,2016:table-display": {
                    "*": {"row_order": [{"column": "id"}]}
                }
            }
        },
        "file": {
            "comment": "asset/object",
            "kind": "table",
            "keys": [
                {
                    "comment": null,
                    "annotations": {},
                    "unique_columns": [
                        "id"
                    ]
                }
            ],
            "entityCount": 0,
            "foreign_keys": [],
            "table_name": "file",
            "schema_name": "product-unordered-related-tables-links",
            "column_definitions": [
                {
                    "comment": null,
                    "name": "id",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "int4"
                    },
                    "annotations": {
                        "comment": [
                            "hidden"
                        ]
                    }
                },
                {
                    "comment": null,
                    "name": "filename",
                    "default": null,
                    "nullok": true,
                    "type": {
                        "typename": "text"
                    },
                    "annotations": {
                        "comment": [
                            "name"
                        ]
                    }
                },
                {
                    "comment": "asset/reference",
                    "name": "uri",
                    "default": null,
                    "nullok": true,
                    "type": {
                        "typename": "text"
                    },
                    "annotations": {
                        "comment": [
                            "thumbnail",
                            "download"
                        ],
                        "tag:isrd.isi.edu,2016:column-display" : {
                            "*": {
                                "markdown_pattern" : "[{{uri}}]({{uri}})"
                            }
                        }
                    }
                },
                {
                    "comment": null,
                    "name": "content_type",
                    "default": null,
                    "nullok": true,
                    "type": {
                        "typename": "text"
                    },
                    "annotations": {
                        "comment": [
                            "type"
                        ]
                    }
                },
                {
                    "comment": null,
                    "name": "bytes",
                    "default": null,
                    "nullok": true,
                    "type": {
                        "typename": "int8"
                    },
                    "annotations": {
                        "comment": [
                            "orderby"
                        ]
                    }
                },
                {
                    "comment": null,
                    "name": "timestamp",
                    "default": null,
                    "nullok": true,
                    "type": {
                        "typename": "timestamptz"
                    },
                    "annotations": {}
                },
                {
                    "comment": null,
                    "name": "image_width",
                    "default": null,
                    "nullok": true,
                    "type": {
                        "typename": "int8"
                    },
                    "annotations": {
                        "comment": [
                            "image"
                        ]
                    }
                },
                {
                    "comment": null,
                    "name": "image_height",
                    "default": null,
                    "nullok": true,
                    "type": {
                        "typename": "int8"
                    },
                    "annotations": {}
                },
                {
                    "comment": "asset/thumbnail",
                    "name": "preview",
                    "default": null,
                    "nullok": true,
                    "type": {
                        "typename": "text"
                    },
                    "annotations": {
                        "comment": [
                            "preview"
                        ]
                    }
                }
            ],
            "annotations": {
                "comment": [
                    "exclude"
                ],
                "tag:isrd.isi.edu,2016:table-display": {
                    "*": {
                        "page_size": 2
                    }
                }
            }
        },
        "accommodation_image": {
            "comment": "this contains asset/thumbnails",
            "kind": "table",
            "keys": [
                {
                    "comment": "vocabulary",
                    "annotations": {},
                    "unique_columns": [
                        "image_id",
                        "accommodation_id"
                    ]
                }
            ],
            "entityCount": 0,
            "foreign_keys": [
                {
                    "names" : [["product-unordered-related-tables-links", "fk_accommodation_image"]],
                    "comment": null,
                    "foreign_key_columns": [
                        {
                            "table_name": "accommodation_image",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "accommodation_id"
                        }
                    ],
                    "annotations": {},
                    "referenced_columns": [
                        {
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id"
                        }
                    ]
                },
                {
                    "comment": null,
                    "foreign_key_columns": [
                        {
                            "table_name": "accommodation_image",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "image_id"
                        }
                    ],
                    "annotations": {},
                    "referenced_columns": [
                        {
                            "table_name": "file",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id"
                        }
                    ]
                }
            ],
            "table_name": "accommodation_image",
            "schema_name": "product-unordered-related-tables-links",
            "column_definitions": [
                {
                    "comment": null,
                    "name": "accommodation_id",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "int4"
                    },
                    "annotations": {
                        "comment": [
                            "dataset"
                        ]
                    }
                },
                {
                    "comment": "this is an asset/thumbnail",
                    "name": "image_id",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "int4"
                    },
                    "annotations": {
                        "comment": [
                            "image"
                        ],
                        "description": {
                            "display": "Image"
                        }
                    }
                }
            ],
            "annotations": {
                "comment": [
                    "image"
                ],
                "description": {
                    "display": "Accommodation Images"
                },
                "tag:isrd.isi.edu,2016:visible-columns": {
                    "compact/brief": ["filename", "uri", "content_type", "bytes", "timestamp"]
                }
            }
        },
        "category": {
            "comment": "domain",
            "kind": "table",
            "keys": [
                {
                    "comment": "vocabulary",
                    "annotations": {},
                    "unique_columns": [
                        "id"
                    ]
                },
                {
                    "comment": "vocabulary",
                    "annotations": {},
                    "unique_columns": [
                        "term"
                    ]
                }
            ],
            "entityCount": 0,
            "foreign_keys": [],
            "table_name": "category",
            "schema_name": "product-unordered-related-tables-links",
            "column_definitions": [
                {
                    "comment": null,
                    "name": "id",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "int4"
                    },
                    "annotations": {
                        "comment": [
                            "hidden"
                        ]
                    }
                },
                {
                    "comment": null,
                    "name": "term",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    },
                    "annotations": {
                        "comment": ["top"]
                    }
                }
            ],
            "annotations": {
                "tag:misd.isi.edu,2015:display": {
                    "name": "Categories"
                },
                "description": {
                    "display": "Categories"
                }
            }
        },
        "media": {
            "comment": null,
            "kind": "table",
            "entityCount": 0,
            "keys": [
                {
                    "comment": null,
                    "annotations": {},
                    "unique_columns": [
                        "id",
                        "accommodation_id"
                    ]
                }
            ],
            "foreign_keys": [
                {
                    "names" : [["product-unordered-related-tables-links", "fk_media_accommodation"]],
                    "comment": null,
                    "foreign_key_columns": [
                        {
                            "table_name": "media",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "accommodation_id"
                        }
                    ],
                    "annotations": {},
                    "referenced_columns": [
                        {
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id"
                        }
                    ]
                }
            ],
            "table_name": "media",
            "schema_name": "product-unordered-related-tables-links",
            "column_definitions": [
                {
                    "comment": null,
                    "name": "id",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "serial4"
                    },
                    "annotations": {
                        "comment": ["hidden"]
                    }
                },
                {
                    "comment": null,
                    "name": "accommodation_id",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "int4"
                    },
                    "annotations": {
                        "comment": ["hidden"]
                    }
                }
            ],
            "annotations": {
                "comment": [
                    "association"
                ],
                "description": {
                    "display": "Media"
                },
                "tag:isrd.isi.edu,2016:table-display": {
                    "compact/brief": {
                        "row_markdown_pattern": "{{{accommodation_id}}}"
                    }
                },
                "tag:isrd.isi.edu,2016:visible-columns" : {
                    "*": ["id", ["product-unordered-related-tables-links", "fk_booking_accommodation"], "price", "bookin_date"]
                }
            }
        },
        "related_table": {
            "comment":"This is a related table and will have entries of facility in an accommodation",
            "kind": "table",
            "keys": [
                {
                    "comment": null,
                    "annotations": {},
                    "unique_columns": [
                        "id"
                    ]
                }
            ],
            "foreign_keys": [],
            "table_name": "related_table",
            "schema_name": "product-unordered-related-tables-links",
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "facility",
                    "type": {
                        "typename": "text"
                    }
                }
            ],
            "annotations": {
                "tag:isrd.isi.edu,2016:table-display": {
                    "compact": {
                        "row_order": [{"column": "id"}]
                    }
                },
                "tag:isrd.isi.edu,2016:visible-columns": {
                    "compact/brief": ["facility"]
                }
            }
        },
        "related_table_markdown": {
            "comment":"This is a related table with markdown annotations",
            "kind": "table",
            "keys": [
                {
                    "comment": null,
                    "annotations": {},
                    "unique_columns": [
                        "id"
                    ]
                }
            ],
            "foreign_keys": [],
            "table_name": "related_table_markdown",
            "schema_name": "product-unordered-related-tables-links",
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "facility",
                    "type": {
                        "typename": "text"
                    }
                }
            ],
            "annotations": {
                "tag:isrd.isi.edu,2016:table-display": {
                    "*": {
                        "separator_markdown": " ",
                        "row_markdown_pattern": " **{{id}}:{{facility}}**{.vocab} "
                    }
                },
                "tag:isrd.isi.edu,2016:visible-columns": {
                    "compact/brief": ["facility"]
                }
            }
        },
        "association_table_markdown": {
            "comment":"This is an association table for markdown display",
            "kind": "table",
            "keys": [
                {
                    "comment": null,
                    "annotations": {},
                    "unique_columns": [
                        "id_related", "id_base"
                    ]
                }
            ],
            "foreign_keys": [
                {
                    "comment": "",
                    "names": [["product-unordered-related-tables-links", "fk_assoc_mdn_related_table"]],
                    "foreign_key_columns": [{
                            "table_name": "association_table_markdown",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id_related"
                    }],
                    "referenced_columns": [{
                            "table_name": "related_table_markdown",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id"
                    }],
                    "annotations": {}
                },
                {
                    "comment": "",
                    "names": [["product-unordered-related-tables-links", "fk_assoc_mdn_accommodation"]],
                    "foreign_key_columns": [{
                            "table_name": "association_table_markdown",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id_base"
                    }],
                    "referenced_columns": [{
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id"
                    }],
                    "annotations": {
                        "tag:isrd.isi.edu,2016:foreign-key": {
                            "to_name": "base table association related"
                        }
                    }
                }
            ],
            "table_name": "association_table_markdown",
            "schema_name": "product-unordered-related-tables-links",
            "column_definitions": [
                {
                    "name": "id_related",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "id_base",
                    "nullok": false,
                    "type": {
                        "typename": "int4"
                    }
                }
            ],
            "annotations": {}
        },
        "association_table": {
            "comment":"This is an association table to hold the association of accomodation and facility",
            "kind": "table",
            "keys": [
                {
                    "comment": null,
                    "annotations": {},
                    "unique_columns": [
                        "id_related", "id_base"
                    ]
                }
            ],
            "foreign_keys": [
                {
                    "comment": "",
                    "names": [["product-unordered-related-tables-links", "fk_assoc_related_table"]],
                    "foreign_key_columns": [{
                            "table_name": "association_table",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id_related"
                    }],
                    "referenced_columns": [{
                            "table_name": "related_table",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id"
                    }],
                    "annotations": {}
                },
                {
                    "comment": "",
                    "names": [["product-unordered-related-tables-links", "fk_assoc_accommodation"]],
                    "foreign_key_columns": [{
                            "table_name": "association_table",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id_base"
                    }],
                    "referenced_columns": [{
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id"
                    }],
                    "annotations": {
                        "tag:isrd.isi.edu,2016:foreign-key": {
                            "to_name": "base table association related"
                        }
                    }
                }
            ],
            "table_name": "association_table",
            "schema_name": "product-unordered-related-tables-links",
            "column_definitions": [
                {
                    "name": "id_related",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "id_base",
                    "nullok": false,
                    "type": {
                        "typename": "int4"
                    }
                }
            ],
            "annotations": {
                "tag:isrd.isi.edu,2016:table-display": {
                    "compact": {
                        "row_order": [{"column": "id_base"}]
                    }
                }
            }
        },
        "schedule": {
            "comment": null,
            "kind": "table",
            "entityCount": 0,
            "keys": [
                {
                    "comment": null,
                    "annotations": {},
                    "unique_columns": [
                        "id",
                        "accn_id",
                        "summary"
                    ]
                }
            ],
            "foreign_keys": [
                {
                    "names" : [["product-unordered-related-tables-links", "fk_schedule_accommodation"]],
                    "comment": null,
                    "foreign_key_columns": [
                        {
                            "table_name": "schedule",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "accn_id"
                        }
                    ],
                    "annotations": {},
                    "referenced_columns": [
                        {
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id"
                        }
                    ]
                }
            ],
            "table_name": "schedule",
            "schema_name": "product-unordered-related-tables-links",
            "column_definitions": [
                {
                    "comment": null,
                    "name": "id",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "serial4"
                    },
                    "annotations": {
                        "comment": ["hidden"]
                    }
                },
                {
                    "comment": null,
                    "name": "accn_id",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "int4"
                    },
                    "annotations": {
                        "comment": ["hidden"]
                    }
                },
                {
                    "comment": null,
                    "name": "summary",
                    "default": null,
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    },
                    "annotations": {
                        "comment": ["hidden"]
                    }
                }
            ],
            "annotations": {
                "comment": [
                    "association"
                ],
                "description": {
                    "display": "Schedule"
                },
                "tag:isrd.isi.edu,2016:table-display": {
                    "compact": {}
                },
                "tag:isrd.isi.edu,2016:app-links": {
                    "compact": "tag:isrd.isi.edu,2016:chaise:search"
                },
                "tag:isrd.isi.edu,2016:visible-columns": {
                    "compact/brief": ["summary"],
                    "filter": {
                        "and": [
                            {"source": [{"outbound": ["product-unordered-related-tables-links", "fk_schedule_accommodation"]}], "markdown_name": "Accommodations"}
                        ]
                    }
                }
            }
        },
        "related_table_2": {
            "comment":"has a foreignkey to related_table",
            "kind": "table",
            "table_name": "related_table_2",
            "schema_name": "product-unordered-related-tables-links",
            "keys": [{
                "comment": null,
                "annotations": {},
                "unique_columns": ["id"]
            }],
            "foreign_keys": [{
                "names" : [["product-unordered-related-tables-links", "fk_related_table_2_to_related"]],
                "comment": null,
                "foreign_key_columns": [{
                    "table_name": "related_table_2",
                    "schema_name": "product-unordered-related-tables-links",
                    "column_name": "fk_to_rel"
                }],
                "annotations": {},
                "referenced_columns": [{
                    "table_name": "related_table",
                    "schema_name": "product-unordered-related-tables-links",
                    "column_name": "id"
                }]
            }],
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "col",
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "fk_to_rel",
                    "type": {
                        "typename": "text"
                    }
                }
            ],
            "annotations": {
                "tag:isrd.isi.edu,2016:table-display": {
                    "*": {"row_order": [{"column": "id"}]}
                },
                "tag:isrd.isi.edu,2016:visible-columns": {
                    "compact/brief": ["col"]
                }
            }
        },
        "table_w_aggregates": {
            "comment": "table with aggregate column that has fk to accomodation",
            "kind": "table",
            "table_name": "table_w_aggregates",
            "schema_name": "product-unordered-related-tables-links",
            "keys": [{
                "unique_columns": ["id"]
            }],
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {
                        "typename": "int4"
                    }
                },
                {
                    "name": "value",
                    "type": {
                        "typename": "text"
                    }
                },
                {
                    "name": "fk_to_accommodation",
                    "type": {
                        "typename": "int4"
                    }
                }
            ],
            "foreign_keys": [
                {
                    "names" : [["product-unordered-related-tables-links", "fk_table_w_agg_accommodation"]],
                    "comment": null,
                    "foreign_key_columns": [
                        {
                            "table_name": "table_w_aggregates",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "fk_to_accommodation"
                        }
                    ],
                    "annotations": {},
                    "referenced_columns": [
                        {
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links",
                            "column_name": "id"
                        }
                    ]
                }
            ],
            "annotations": {
                "tag:isrd.isi.edu,2016:visible-columns": {
                    "*": [
                        "id",
                        ["product-unordered-related-tables-links", "fk_table_w_agg_accommodation"],
                        {"source": "value", "aggregate": "max"},
                        {"sourcekey": "value_min"},
                        {"source": "value", "aggregate": "cnt"},
                        {"source": "value", "aggregate": "cnt_d"},
                        {
                            "markdown_name": "virtual column",
                            "display": {
                                "template_engine": "handlebars",
                                "markdown_pattern": "virtual {{{value_min}}} with {{{outbound_to_accommodation.rowName}}}",
                                "wait_for": ["value_min", "outbound_to_accommodation"]
                            }
                        }
                    ]
                },
                "tag:isrd.isi.edu,2016:table-display": {
                    "*": {"row_order": [{"column": "id"}]}
                },
                "tag:isrd.isi.edu,2019:source-definitions": {
                    "fkeys": true,
                    "columns": true,
                    "sources": {
                        "value_min": {
                            "source": "value", "aggregate": "min"
                        },
                        "outbound_to_accommodation": {
                            "source": [{"outbound": ["product-unordered-related-tables-links", "fk_table_w_agg_accommodation"]}, "RID"]
                        }
                    }
                }
            }
        },
        "table_w_invalid_row_markdown_pattern": {
            "table_name": "table_w_invalid_row_markdown_pattern",
            "schema_name": "product-unordered-related-tables-links",
            "kind": "table",
            "keys": [{
                "unique_columns": ["id"]
            }],
            "foreign_keys": [{
                "names": [
                    ["product-unordered-related-tables-links", "fk_table_invalid_markdown"]
                ],
                "comment": null,
                "foreign_key_columns": [{
                    "table_name": "table_w_invalid_row_markdown_pattern",
                    "schema_name": "product-unordered-related-tables-links",
                    "column_name": "id"
                }],
                "annotations": {},
                "referenced_columns": [{
                    "table_name": "accommodation",
                    "schema_name": "product-unordered-related-tables-links",
                    "column_name": "id"
                }]
            }],
            "column_definitions": [{
                    "name": "id",
                    "nullok": false,
                    "type": {
                        "typename": "int4"
                    }
                },
                {
                    "name": "value",
                    "type": {
                        "typename": "text"
                    }
                }
            ],
            "annotations": {
                "tag:isrd.isi.edu,2016:table-display": {
                    "row_name": {
                        "row_markdown_pattern": "{{{id}}}"
                    },
                    "*": {
                        "row_markdown_pattern": "{{invalid_column}}"
                    }
                },
                "tag:isrd.isi.edu,2016:visible-columns": {
                    "*": ["id", "value"]
                }
            }
        },
        "table_w_rowname": {
            "kind": "table",
            "table_name": "table_w_rowname",
            "schema_name": "product-unordered-related-tables-links",
            "keys": [
                {"unique_columns": ["id"]}
            ],
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {
                        "typename": "int4"
                    }
                },
                {
                    "name": "name",
                    "nullok": false,
                    "type": {
                        "typename": "text"
                    }
                }
            ],
            "annotations": {
                "tag:isrd.isi.edu,2016:table-display": {
                    "row_name": {
                        "row_markdown_pattern": "{{id}}: {{name}}"
                    }
                }
            }
        },
        "accommodation_outbound1": {
            "kind": "table",
            "schema_name": "product-unordered-related-tables-links",
            "table_name": "accommodation_outbound1",
            "keys": [{"unique_columns": ["id"]}],
            "foreign_keys": [
                {
                    "names": [["product-unordered-related-tables-links", "accommodation_outbound1_fk1"]],
                    "foreign_key_columns": [
                        {
                            "column_name": "fk1_col",
                            "table_name": "accommodation_outbound1",
                            "schema_name": "product-unordered-related-tables-links"
                        }
                    ],
                    "referenced_columns": [
                        {
                            "column_name": "id",
                            "table_name": "accommodation_outbound1_outbound1",
                            "schema_name": "product-unordered-related-tables-links"
                        }
                    ]
                }
            ],
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {"typename": "text"}
                },
                {
                    "name": "name",
                    "nullok": false,
                    "type": {"typename": "text"}
                },
                {
                    "name": "fk1_col",
                    "type": {"typename": "text"}
                },
                {
                    "name": "fk2_col",
                    "type": {"typename": "text"}
                },
                {
                    "name": "fk3_col",
                    "type": {"typename": "text"}
                },
                {
                    "name": "fk4_col",
                    "type": {"typename": "text"}
                }
            ]
        },
        "accommodation_outbound1_outbound1": {
            "kind": "table",
            "schema_name": "product-unordered-related-tables-links",
            "table_name": "accommodation_outbound1_outbound1",
            "keys": [{"unique_columns": ["id"]}],
            "foreign_keys": [],
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {"typename": "text"}
                },
                {
                    "name": "fk1_col",
                    "type": {"typename": "text"}
                },
                {
                    "name": "name",
                    "nullok": false,
                    "type": {"typename": "text"}
                }
            ]
        },
        "accommodation_inbound1": {
            "kind": "table",
            "schema_name": "product-unordered-related-tables-links",
            "table_name": "accommodation_inbound1",
            "keys": [{"unique_columns": ["id"]}],
            "foreign_keys": [
                {
                    "names": [["product-unordered-related-tables-links", "accommodation_inbound1_fk1"]],
                    "foreign_key_columns": [
                        {
                            "column_name": "fk1_col",
                            "table_name": "accommodation_inbound1",
                            "schema_name": "product-unordered-related-tables-links"
                        }
                    ],
                    "referenced_columns": [
                        {
                            "column_name": "id",
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links"
                        }
                    ]
                }
            ],
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {"typename": "text"}
                },
                {
                    "name": "name",
                    "nullok": false,
                    "type": {"typename": "text"}
                },
                {
                    "name": "fk1_col",
                    "type": {"typename": "int4"}
                }
            ]
        },
        "accommodation_inbound2": {
            "kind": "table",
            "schema_name": "product-unordered-related-tables-links",
            "table_name": "accommodation_inbound2",
            "keys": [{"unique_columns": ["id"]}],
            "foreign_keys": [
                {
                    "names": [["product-unordered-related-tables-links", "accommodation_inbound2_fk1"]],
                    "foreign_key_columns": [
                        {
                            "column_name": "fk1_col",
                            "table_name": "accommodation_inbound2",
                            "schema_name": "product-unordered-related-tables-links"
                        }
                    ],
                    "referenced_columns": [
                        {
                            "column_name": "id",
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links"
                        }
                    ]
                }
            ],
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {"typename": "text"}
                },
                {
                    "name": "name",
                    "nullok": false,
                    "type": {"typename": "text"}
                },
                {
                    "name": "fk1_col",
                    "type": {"typename": "int4"}
                }
            ]
        },
        "accommodation_inbound3": {
            "kind": "table",
            "schema_name": "product-unordered-related-tables-links",
            "table_name": "accommodation_inbound3",
            "keys": [{"unique_columns": ["id"]}],
            "foreign_keys": [
                {
                    "names": [["product-unordered-related-tables-links", "accommodation_inbound3_fk1"]],
                    "foreign_key_columns": [
                        {
                            "column_name": "fk1_col",
                            "table_name": "accommodation_inbound3",
                            "schema_name": "product-unordered-related-tables-links"
                        }
                    ],
                    "referenced_columns": [
                        {
                            "column_name": "id",
                            "table_name": "accommodation",
                            "schema_name": "product-unordered-related-tables-links"
                        }
                    ]
                }
            ],
            "column_definitions": [
                {
                    "name": "id",
                    "nullok": false,
                    "type": {"typename": "text"}
                },
                {
                    "name": "name",
                    "nullok": false,
                    "type": {"typename": "text"}
                },
                {
                    "name": "fk1_col",
                    "type": {"typename": "int4"}
                }
            ]
        }
    },
    "comment": null,
    "annotations": {
        "tag:misd.isi.edu,2015:display": {
            "name": "accommodation"
        }

    },
    "schema_name": "product-unordered-related-tables-links"
}
